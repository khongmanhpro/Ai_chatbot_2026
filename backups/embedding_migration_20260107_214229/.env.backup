# Server Configuration
###########################
HOST=0.0.0.0
PORT=9621
WEBUI_TITLE='Insurance Graph KB'
WEBUI_DESCRIPTION='Specialized Graph-RAG for Insurance Industry with Neo4j'

# Paths
INPUT_DIR=./data/inputs
WORKING_DIR=./data/rag_storage
TIKTOKEN_CACHE_DIR=./data/tiktoken

###########################
# Auth
###########################
AUTH_ACCOUNTS=admin:admin123
TOKEN_SECRET=5fbc2267f4d1731f208396127c07787b3fb1cdc74d81af90e31ef50a3ceff05a
LIGHTRAG_API_KEY=855631e53c674506495c953e1447ecbab3b0ccfc3433d1c1534fa5fbe968726b

###########################
# Query / RAG - BALANCED
###########################
ENABLE_LLM_CACHE=true
ENABLE_LLM_CACHE_FOR_EXTRACT=true
TOP_K=10
CHUNK_TOP_K=8
MAX_ENTITY_TOKENS=4000
MAX_RELATION_TOKENS=4000
MAX_TOTAL_TOKENS=10000
CHUNK_SIZE=1200
CHUNK_OVERLAP_SIZE=200
RELATED_CHUNK_NUMBER=5

# Entity - OPTIMIZED FOR INSURANCE
ENTITY_TYPES='["Policy", "Coverage", "Exclusion", "Benefit", "Condition", "ClaimProcess", "Premium", "Deductible", "Definition", "Regulation"]'
FORCE_LLM_SUMMARY_ON_MERGE=5
SUMMARY_MAX_TOKENS=1500
SUMMARY_LANGUAGE=Vietnamese

# Query
KG_CHUNK_PICK_METHOD=VECTOR
COSINE_THRESHOLD=0.3

# Reranker
RERANK_BINDING=jina
RERANK_MODEL=jina-reranker-v2-base-multilingual
RERANK_BINDING_HOST=https://api.jina.ai/v1/rerank
RERANK_BINDING_API_KEY=jina_52b46a04e0874e2daca868cb4e53e3d7SmUG3zmmoCKgG4G1upv2ytgBq2vA
RERANK_BY_DEFAULT=True
MIN_RERANK_SCORE=0.0

###########################
# Concurrency
###########################
MAX_ASYNC=16
MAX_PARALLEL_INSERT=3
EMBEDDING_FUNC_MAX_ASYNC=32
EMBEDDING_BATCH_NUM=10

###########################
# LLM
###########################
LLM_BINDING=openai
LLM_MODEL=gpt-4o-mini
LLM_BINDING_HOST=https://gpt1.shupremium.com/v1
LLM_BINDING_API_KEY=sk-lCVjfE29rhXjROU60N80rdjS3coChmGkDuZ7UERuIHp0Mg4F

LLM_TIMEOUT=120
OPENAI_LLM_MAX_COMPLETION_TOKENS=4000
OPENAI_LLM_TEMPERATURE=0.7

###########################
# Embedding
###########################
EMBEDDING_BINDING=openai
EMBEDDING_MODEL=text-embedding-3-large
EMBEDDING_DIM=3072
EMBEDDING_BINDING_HOST=https://gpt1.shupremium.com/v1
EMBEDDING_BINDING_API_KEY=sk-lCVjfE29rhXjROU60N80rdjS3coChmGkDuZ7UERuIHp0Mg4F
EMBEDDING_TIMEOUT=60
EMBEDDING_SEND_DIM=false
EMBEDDING_TOKEN_LIMIT=8192

###########################
# Storage
###########################
LIGHTRAG_KV_STORAGE=PGKVStorage
LIGHTRAG_DOC_STATUS_STORAGE=PGDocStatusStorage
LIGHTRAG_GRAPH_STORAGE=Neo4JStorage
LIGHTRAG_VECTOR_STORAGE=PGVectorStorage
WORKSPACE=insurance_graph_kb

###########################
# Neo4j
###########################
NEO4J_URI=bolt://neo4j:7687
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD=Khongmanh@2001@
NEO4J_DATABASE=neo4j
NEO4J_MAX_CONNECTION_POOL_SIZE=100
NEO4J_KEEP_ALIVE=true

###########################
# Logging
###########################
LOG_LEVEL=INFO
VERBOSE=False
###########################
# PostgreSQL Configuration
###########################
POSTGRES_PASSWORD=8ofzjbWcvZCJ5D7rM+5kHoRt+THGE8ROphYwKaa3UaI=
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=lightrag
POSTGRES_DATABASE=lightrag_insurance
POSTGRES_MAX_CONNECTIONS=20

# Vector index config
POSTGRES_VECTOR_INDEX_TYPE=HNSW
POSTGRES_HNSW_M=32
POSTGRES_HNSW_EF=200

# Connection resilience
POSTGRES_CONNECTION_RETRIES=10
POSTGRES_CONNECTION_RETRY_BACKOFF=3.0
POSTGRES_CONNECTION_RETRY_BACKOFF_MAX=30.0

###########################
# Dual LLM Strategy
###########################
# For high-precision indexing, switch to gpt-4o before processing documents
# LLM_MODEL=gpt-4o
# For cost-effective queries, use gpt-4o-mini (current setting)
# Note: Manually switch LLM_MODEL before indexing new documents for best accuracy

# Recommended: Use gpt-4o for initial knowledge base build, then switch to gpt-4o-mini for queries
